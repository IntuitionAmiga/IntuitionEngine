# IE65 Linker Configuration for programs with large embedded binary data
# CODE/RODATA/DATA stay within 16-bit address space for CPU instructions
# BSS stays within 16-bit space for indexed addressing modes
# BINDATA goes into a separate area (accessed only via MMIO/DMA, not direct CPU addressing)
# 6502 programs load at $0800 by default

MEMORY {
    ZP:     start = $0002, size = $00FE, type = rw;
    RAM:    start = $0800, size = $7800, type = rw, file = %O;
    BSSRAM: start = $8000, size = $1000, type = rw;
    BINRAM: start = $9000, size = $77000, type = rw, file = %O;
}

SEGMENTS {
    ZEROPAGE: load = ZP, type = zp;
    CODE:     load = RAM, type = ro;
    RODATA:   load = RAM, type = ro;
    DATA:     load = RAM, type = rw;
    BINDATA:  load = BINRAM, type = ro, optional = yes;
    BSS:      load = BSSRAM, type = bss;
}

FEATURES {
    STARTADDRESS: default = $0800;
}
